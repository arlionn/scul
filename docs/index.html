<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Synthetic Control Using Lasso (SCUL) • SCUL</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Synthetic Control Using Lasso (SCUL)">
<meta property="og:description" content='Synthetic control methods are a popular strategy for estimating counterfactual outcomes using weighted averages of untreated groups. We use lasso regressions to construct synthetic control weights, allowing for a high-dimensional donor pool and for negatively correlated donors to contribute to the synthetic prediction; neither of which is possible using traditional methods. This package provides code to run the synthetic control using lasso (SCUL) estimator that is outlined in Hollingsworth and Wing (2020) "Tactics for design and inference in synthetic control studies: An applied example using high-dimensional data." '>
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">SCUL</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/scul-tutorial.html">Synthetic Control Using Lasso (SCUL)</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="synthetic-control-using-lasso-scul" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#synthetic-control-using-lasso-scul" class="anchor"></a>Synthetic control using lasso (scul)</h1></div>
<p>This repository contains the R package <code>scul</code> that is used in Hollingsworth and Wing (2020) <em>“Tactics for design and inference in synthetic control studies: An applied example using high-dimensional data.”</em> (Link to paper posted on 3 May 2020)</p>
<p><img src="articles/vignette_output/ReadMeFigure.png" alt="figure1"></p>
<p>The R package can be downloaded using the devtools package and typing the following command <code><a href="https://rdrr.io/pkg/devtools/man/remote-reexports.html">devtools::install_github("hollina/scul")</a></code>. It will be released via CRAN once the working paper can be publicly posted on-line (3 May 2020).</p>
<p>An in-depth tutorial of the package using publicly available data is available here, <a href="https://hollina.github.io/scul/articles/scul-tutorial.html" class="uri">https://hollina.github.io/scul/articles/scul-tutorial.html</a>.</p>
<p>More detail on the procedure can be found in our working paper, (link to be posted 3 May 2020).</p>
<div id="what-is-a-synthetic-control" class="section level2">
<h2 class="hasAnchor">
<a href="#what-is-a-synthetic-control" class="anchor"></a>What is a synthetic control?</h2>
<p>The synthetic control methodology is a strategy for estimating causal treatment effects for idiosyncratic historical events. In the typical application developed by Abadie, Diamond, and Hainmueller (2010), researchers observe time series outcomes for both a treated unit and a number of untreated units. A weighted average of the untreated series is used to construct a counterfactual estimate of the treated series, which is referred to as a synthetic comparison group. Weights are chosen to minimize discrepancies between the synthetic comparison group and the treated unit in the pre-treatment time period. Treatment effect estimates are taken to be the difference between observed outcomes and a synthetic counterfactual. Statistical inference is normally organized around a placebo analysis; in which, pseudo-treatment effects are estimated for many untreated placebo units, and the distribution of pseudo-estimates represents the null distribution of no treatment effect.</p>
<p>A useful way to think about synthetic controls is as a procedure that attempts to <em>match</em> donor series to target series based on the unobserved factors that determine the data generating process. When framed in this manner identification assumptions and strategies for model selection and inference become more salient.</p>
</div>
<div id="extensions-of-the-traditional-method" class="section level2">
<h2 class="hasAnchor">
<a href="#extensions-of-the-traditional-method" class="anchor"></a>Extensions of the traditional method</h2>
<p>Recent methodological work has proposed a number of innovative strategies for estimating synthetic control weights (Arkhangelsky et al. 2018; Doudchenko and Imbens 2017; Powell 2019). In a similar vein, we use a method called <strong>Synthetic Control Using Lasso (SCUL)</strong> to construct donor weights. This method is a flexible, data-driven way to construct synthetic control groups. It relies on lasso regressions, which are popular in the machine-learning literature, and favor weights that predict well out of sample. In general, our approach allows for a high-dimensional donor pool that may be larger than the number of time periods, extrapolation from the donor pool, counter-cyclical weights, and the same model selection procedure to be used for target and placebo series.</p>
<p>Our working paper highlights identification assumptions and recommendations that are relevant for any synthetic control study. We implement versions of the recommendations in our <a href="https://hollina.github.io/scul/articles/scul-tutorial.html">tutorial</a>. We frame synthetic controls as a way of matching on unobserved underlying factors that form the data generating process. When viewed in this context, using donor units from a wide range of variable types makes sense because different variable types may help pin down different underlying factors/features of the data generating process for the treated unit. As such we use a wide range of donor variables to construct our synthetic control groups, not just the same variable type as the target variable as is common practice.</p>
</div>
<div id="when-would-you-want-non-convex-or-negative-weights" class="section level2">
<h2 class="hasAnchor">
<a href="#when-would-you-want-non-convex-or-negative-weights" class="anchor"></a>When would you want non-convex or negative weights?</h2>
<p>The traditional synthetic control method restricts weights to be non-negative and to sum to one. These restrictions force the synthetic control group to remain within the support (i.e., convex hull) of the donor pool, preventing extrapolation. This can certainly be a desirable property. However there are some situations where these restrictions that prevent extrapolation can inhibit a synthetic control group from finding a perfect donor series.</p>
<ul>
<li>Case 1: When the target series is outside the the support of the donor pool (i.e. you need extrapolation to match the target series - Case 2: When negatively correlated donors can help identify underlying data generating process (e.g., two financial assets, or a price and consumption series)</li>
</ul>
<p><img src="articles/vignette_output/time_series_convex_hull.png" alt="figure2"></p>
<p>The SCUL procedure is a flexible synthetic control method that accommodates both of these scenarios. It also allows for more donors than time periods (i.e., high-dimensional data), which is not possible using the traditional method.</p>
</div>
<div id="how-can-i-learn-more-about-sculwhere-can-i-get-your-data-used-in-the-paper" class="section level2">
<h2 class="hasAnchor">
<a href="#how-can-i-learn-more-about-sculwhere-can-i-get-your-data-used-in-the-paper" class="anchor"></a>How can I learn more about SCUL?/Where can I get your data used in the paper?</h2>
<p>More detail on the procedure can be found in <em>“Tactics for design and inference in synthetic control studies: An applied example using high-dimensional data.”</em> (Link available 3 May 2020)</p>
<p>This working paper, which is co-authored with Coady Wing, uses the SCUL method to estimate how recreational marijuana legalization affects sales of alcohol and over-the-counter painkillers, finding reductions in alcohol sales. Please cite our paper if you use this package, vignette, or the paper. :)</p>
<p>The paper uses retail scanner data from Nielsen cannot be publicly posted online, but are available for purchase from the Kilts Center for Marketing at the University of Chicago, <a href="https://www.chicagobooth.edu/research/kilts/datasets/nielsen" class="uri">https://www.chicagobooth.edu/research/kilts/datasets/nielsen</a>.</p>
</div>
<div id="whats-this-packagevignette-do" class="section level2">
<h2 class="hasAnchor">
<a href="#whats-this-packagevignette-do" class="anchor"></a>What’s this package/vignette do?</h2>
<p>This package provides code to implement the SCUL procedure. Because the data in our working paper cannot be posted online, we also provide an example that uses publicly available data. The entire procedure or parts of the method may be useful in many settings. Feel free to use any or all of the code; it is available under the MIT license.</p>
<div id="software-used" class="section level3">
<h3 class="hasAnchor">
<a href="#software-used" class="anchor"></a>Software Used:</h3>
<p>The package is made for R. and was developed on a Unix machine using R 3.6.1. See session info in the vignette for exact version of every package used.</p>
</div>
<div id="license" class="section level3">
<h3 class="hasAnchor">
<a href="#license" class="anchor"></a>License:</h3>
<p>Replication Package (this github repo): <a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT"></a></p>
<p>Working Paper: <a href="https://creativecommons.org/licenses/by/4.0/"><img src="https://img.shields.io/badge/License-CC%20BY%204.0-lightgrey.svg" alt="License: CC BY 4.0"></a></p>
</div>
</div>
<div id="to-do" class="section level2">
<h2 class="hasAnchor">
<a href="#to-do" class="anchor"></a>To Do:</h2>
<ol>
<li>Post working paper</li>
<li>Add examples to each function</li>
<li>Create function for smoke plot</li>
<li>Proof read documentation</li>
<li>Submit package via CRAN</li>
</ol>
<div id="refs" class="references">
<div id="ref-Abadie2010">
<p>Abadie, Alberto, Alexis Diamond, and Jens Hainmueller. 2010. “Synthetic Control Methods for Comparative Case Studies: Estimating the Effect of California’s Tobacco Control Program.” <em>Journal of the American Statistical Association</em> 105 (490): 493–505. <a href="https://doi.org/10.1198/jasa.2009.ap08746" class="uri">https://doi.org/10.1198/jasa.2009.ap08746</a>.</p>
</div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Alex Hollingsworth <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Alex Hollingsworth.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
